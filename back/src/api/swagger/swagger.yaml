openapi: 3.0.0
info:
  title: Pagemaker API.
  version: 0.1.0
servers:
  - url: http://localhost:4200/api/v1.0
    description: Pagemaker API V1.0
paths:
  /auth/login:
    post:
      tags:
        - auth
        - login
      summary: log the user in
      description: Post the login credentials to the auth service to log the user in
      requestBody:
        description: user name and password
        required: true
        content:
          application/json:
            schema:
              $ref: '#components/schemas/login'
      responses:
        '200': 
          description: user has successfully logged in
        

  /private/menus/navmenu/{isLoggedIn}:
    get:
      tags:
        - navmenu
        - private
      summary: returns list of navmenu items
      description: if the user is logged in then full list of options are returned otherwise options to register and login are returned
      parameters:
        - name: isLoggedIn
          in: path
          required: true
          description: status of logged in user
          schema:
            type: boolean
      responses:
        '200':
          description: 'JSON array of menu items'
          content:
            application/json:
              schema:
                type: array
                items: 
                  type: object
                  $ref: '#/components/schemas/NavMenuItem'

  /private/toolbar/toolbar-items/elements:
    get:
      tags:
        - toolbar-elements
        - private
      summary: returns a list of elements for use in the right hand toolbar
      description: returns a list of elements for use in the right hand toolbar
      responses:
        '200':
          description: JSON array of toolbar-elements
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  $ref: '#components/schemas/toolbar-elements'

components:
  schemas:
    NavMenuItem:
      type: object
      title: Nav Menu Item
      properties:
        id:
          type: string
          title: unique identifier for this menu item
        navText:
          type: string
          description:  text to appear in the menu
        navLink:
          type: string
          description: page url to link to
        isVisible:
          type: boolean
          description: Toggle to show hide the menu item
        isLoggedIn:
          type: boolean
          description: Chooses if the menu option is available according to whether the user is logged in or not, set to false to show on the logged out menu, to true to show when user is logged in
        
    login:
      type: object
      title: Login credentials
      properties:
        email:
          title: email of user
          type: string
        password:
          title: password for user
          type: string
    
    toolbar-elements:
      type: object
      title: a toolbar element
      properties:
        classes:
          title: list of tailwind classes that format this item on the screen
          type: string
          example: 'bg-gray-200 flex flex-row flex-wrap'
        componentName:
          title: unique name for this component
          type: string
        dimension:
          title: initial dimensions of this object on the screen when dropped on a page
          type: object
          properties:
            height:
              title: height of item
              type: object
              $ref: '#components/schemas/unit-and-value'
            width:
              title: initial width
              type: object
              $ref: '#components/schemas/unit-and-value'
        isContainer:
          title: Can this element contain other elements
          type: boolean
        location:
          title: Initial location of this item on the page
          type: object
          properties:
            left:
              title: left position of element
              type: object
              $ref: '#components/schemas/unit-and-value'
            top:
              title: top position of element
              type: object
              $ref: '#components/schemas/unit-and-value'
        toolbarIcon:
          title: icon shown in the toolbar, name of an image to display
          type: string
        tooltip:
          title: tooltip to display
          type: string
        type:
          title: type of element
          type: string



    unit-and-value:
      type: object
      title: CSS unit with value and type
      properties:
        unit:
          title: unit to be used
          type: string
          example: 'px % em rem'
        value:
          title: numeric value assigned to the unit
          type: number
